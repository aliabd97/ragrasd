# ๐ ูุธุงู RAG ุงููุญุณูู ูููุญุชูู ุงูุฏููู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู RAG (Retrieval-Augmented Generation) ูุชุนุฏุฏ ุงููุณุชููุงุช ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุงูุฏูููุฉ ูุน:
- โ **ุฅุฌุงุจุงุช ูุทููุฉ ูููุตูุฉ** (ููุงูุฉ ูุงููุฉ)
- โ **ูุตุงุฏุฑ ูุงุถุญุฉ** ุจุงูุฃุณูุงุก ุงูุญููููุฉ (ูุซู: "ุงููุงูู 1/34")
- โ **ุฏุนู OpenAI** ููุฌูุฏุฉ ูุงูุณุฑุนุฉ ุงูุนุงููุฉ
- โ **ุฏุนู ููุงุฐุฌ ูุญููุฉ** ูุฌุงููุฉ

---

## ๐ฏ ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฅุฌุงุจุงุช ููุตูุฉ ูุทูููุฉ โจ

**ูุจู:** ุฅุฌุงุจุงุช ูุตูุฑุฉ (2-3 ุฌูู)

**ุจุนุฏ:** ููุงูุฉ ูุงููุฉ ุชุญุชูู ุนูู:
- ููุฏูุฉ
- ุดุฑุญ ุชูุตููู (5-10 ููุฑุงุช)
- ุฃูุซูุฉ ูุดูุงูุฏ ูู ุงููุตุงุฏุฑ
- ุฎุงุชูุฉ
- ูุงุฆูุฉ ุงููุตุงุฏุฑ ุงููุณุชุฎุฏูุฉ

### 2. ูุตุงุฏุฑ ูุงุถุญุฉ ๐

**ูุจู:** `[ุงููุตุฏุฑ 2]`

**ุจุนุฏ:** `ุงููุงูู (1/34)` ุฃู `ููุฌ ุงูุจูุงุบุฉ (ุต 156)`

ุงููุธุงู ุงูุขู ูุณุชุฎุฑุฌ:
- ุงุณู ุงููุชุงุจ ูู metadata
- ุฑูู ุงูุฌุฒุก/ุงูุตูุญุฉ
- ููุชุจูุง ุจุดูู ูุงุถุญ ุฏุงุฎู ุงููุต

### 3. ุฏุนู OpenAI Embeddings โก

**ุงููููุฐุฌ ุงููุญูู:** `intfloat/multilingual-e5-large` (ูุฌุงูู)
- โ ูุฌุงูู ุชูุงูุงู
- โฑ๏ธ ุฃุจุทุฃ ููููุงู
- ๐พ ูุญุชุงุฌ ุฐุงูุฑุฉ ูุจูุฑุฉ

**OpenAI:** `text-embedding-3-small/large` (ููุตู ุจู)
- โ ุฃุณุฑุน ูุฃุฏู
- โ ูุง ูุญุชุงุฌ GPU
- ๐ฐ ุชูููุฉ ููุฎูุถุฉ ุฌุฏุงู

---

## ๐ ุจููุฉ ุงููุดุฑูุน

```
ragrasd/
โโโ build/                              # ุงูุฃููุงุฏ
โ   โโโ step3_embeddings_E5.py         # Embeddings ุจุงููููุฐุฌ ุงููุญูู
โ   โโโ step3_embeddings_openai.py     # Embeddings ุจู OpenAI โญ ุฌุฏูุฏ
โ   โโโ step4_query_analyzer.py        # ูุญูู ุงูุฃุณุฆูุฉ โญ ุฌุฏูุฏ
โ   โโโ step5_rag_system.py            # ูุธุงู RAG ุงููุงูู โญ ุฌุฏูุฏ
โ
โโโ data/
โ   โโโ processed/                      # ุงูุจูุงูุงุช ุงููุนุงูุฌุฉ
โ   โ   โโโ documents.json
โ   โ   โโโ sections.json
โ   โ   โโโ paragraphs.json
โ   โโโ database/                       # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ       โโโ chroma_db/
โ
โโโ config.yaml                         # ุงูุฅุนุฏุงุฏุงุช (ูุญุฏุซ) โญ
โโโ requirements.txt                    # ุงูููุชุจุงุช (ูุญุฏุซ) โญ
โโโ .env.example                        # ูุซุงู ูููู ุงูุจูุฆุฉ โญ ุฌุฏูุฏ
โโโ interactive_rag.py                  # ูุงุฌูุฉ ุชูุงุนููุฉ โญ ุฌุฏูุฏ
โโโ USAGE_GUIDE.md                      # ุฏููู ุงูุงุณุชุฎุฏุงู โญ ุฌุฏูุฏ
โโโ README.md                           # ูุฐุง ุงูููู
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุงูุชุซุจูุช

```bash
# ุชุซุจูุช ุงูููุชุจุงุช
pip install -r requirements.txt
```

### 2. ุฅุนุฏุงุฏ OpenAI API Key

```bash
# ูุณุฎ ููู .env.example
cp .env.example .env

# ุชุนุฏูู .env ููุถุน API key
# OPENAI_API_KEY=sk-...
```

ููุญุตูู ุนูู API key: https://platform.openai.com/api-keys

### 3. ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุฎูุงุฑ 1: OpenAI (ููุตู ุจู)

```bash
cd build
python step3_embeddings_openai.py
```

#### ุงูุฎูุงุฑ 2: ุงููููุฐุฌ ุงููุญูู (ูุฌุงูู)

```bash
cd build
python step3_embeddings_E5.py
```

### 4. ุชุดุบูู ุงููุธุงู

#### ุทุฑููุฉ 1: ูุงุฌูุฉ ุชูุงุนููุฉ (ุงูุฃุณูู)

```bash
python interactive_rag.py
```

ุซู ุงูุชุจ ุฃุณุฆูุชู ูุจุงุดุฑุฉ!

#### ุทุฑููุฉ 2: ูู ุงูููุฏ

```python
from build.step5_rag_system import RAGSystem
from dotenv import load_dotenv

load_dotenv()

# ุชููุฆุฉ ุงููุธุงู
rag = RAGSystem(
    embeddings_provider="openai",
    embeddings_model="text-embedding-3-small",
    llm_model="gpt-4o-mini"
)

# ุทุฑุญ ุณุคุงู
result = rag.query("ูุง ูู ููููู ุงูุฅูุงูุฉุ")

# ุนุฑุถ ุงูุฅุฌุงุจุฉ
print(result['answer'])
```

---

## ๐ ุฃูุซูุฉ

### ูุซุงู 1: ุณุคุงู ุนู ุชุนุฑูู

```python
ุงูุณุคุงู: ูุง ูู ููููู ุงูุฅูุงูุฉ ูู ุงููุฐูุจ ุงูุดูุนูุ

ุงูุฅุฌุงุจุฉ:
## ููููู ุงูุฅูุงูุฉ

### ุงูููุฏูุฉ
ุงูุฅูุงูุฉ ูู ุฃูู ุงูููุงููู ูู ุงููุฐูุจ ุงูุดูุนู...

### ุงูุดุฑุญ ุงูุชูุตููู
ูุฑุฏ ูู ุงููุงูู (1/34) ุฃู ุงูุฅูุงูุฉ ูู...

ูุฐูุฑ ูู ููุฌ ุงูุจูุงุบุฉ (ุต 156) ุฃู...

### ุงูุดูุงูุฏ ูุงูุฃุฏูุฉ
ูู ุงูุฃุฏูุฉ ุนูู ุฐูู ูุง ุฌุงุก ูู...

### ุงูุฎุงุชูุฉ
...

### ุงููุตุงุฏุฑ ุงููุณุชุฎุฏูุฉ:
1. ุงููุงูู (1/34)
2. ููุฌ ุงูุจูุงุบุฉ (ุต 156)
3. ...
```

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### ุชุบููุฑ ูููุฐุฌ Embeddings

ูู `config.yaml`:

```yaml
embeddings:
  provider: "openai"  # ุฃู "sentence_transformers"

  openai:
    model: "text-embedding-3-small"  # ุฃู "text-embedding-3-large"
```

### ุชุบููุฑ ูููุฐุฌ LLM

ูู `config.yaml`:

```yaml
llm:
  provider: "openai"
  model: "gpt-4o-mini"  # ุฃู "gpt-4o" ููุฌูุฏุฉ ุงูุฃุนูู
  max_tokens: 3000      # ูุฅุฌุงุจุงุช ุทูููุฉ
```

---

## ๐ ููุงุฑูุฉ ุงูููุงุฐุฌ

| ุงูููุฒุฉ | OpenAI | ุงููููุฐุฌ ุงููุญูู |
|--------|--------|----------------|
| ุงูุฌูุฏุฉ | โญโญโญโญโญ | โญโญโญโญ |
| ุงูุณุฑุนุฉ | โกโกโกโกโก | โกโกโก |
| ุงูุชูููุฉ | ๐ฐ ููุฎูุถุฉ | ูุฌุงูู |
| ูุญุชุงุฌ API | โ | โ |
| ูุญุชุงุฌ GPU | โ | ููุถูู |

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: `OPENAI_API_KEY not found`

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฅูุดุงุก ููู `.env`
2. ุชุฃูุฏ ูู ูุชุงุจุฉ `OPENAI_API_KEY=sk-...` ุจุดูู ุตุญูุญ

### ุฎุทุฃ: `Collection not found`

**ุงูุญู:**
1. ูู ุจุชุดุบูู `step3_embeddings_openai.py` ุฃููุงู

### ุงููุตุงุฏุฑ ุชุธูุฑ ูู [ุงููุตุฏุฑ X]

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `step5_rag_system.py` ุงูุฌุฏูุฏ
2. ุชุญูู ูู ุฃู metadata ุชุญุชูู ุนูู ูุนูููุงุช ุงููุชุงุจ

---

## ๐ ุงูุชูุซูู ุงููุงูู

ุฑุงุฌุน `USAGE_GUIDE.md` ููุญุตูู ุนูู:
- ุฏููู ููุตู ููุงุณุชุฎุฏุงู
- ุฃูุซูุฉ ูุชูุฏูุฉ
- ูุตุงุฆุญ ูุญูู
- ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- โ **Multi-Level RAG**: ุจุญุซ ูู 3 ูุณุชููุงุช (document, section, paragraph)
- โ **ุฅุฌุงุจุงุช ููุตูุฉ**: ููุงูุงุช ูุงููุฉ ุจุฏูุงู ูู ุฅุฌุงุจุงุช ูุตูุฑุฉ
- โ **ูุตุงุฏุฑ ูุงุถุญุฉ**: ุฃุณูุงุก ุญููููุฉ ุจุฏูุงู ูู [ุงููุตุฏุฑ X]
- โ **ุฏุนู OpenAI**: ููุฌูุฏุฉ ูุงูุณุฑุนุฉ ุงูุนุงููุฉ
- โ **ููุงุฐุฌ ูุญููุฉ**: ุฎูุงุฑ ูุฌุงูู ุจุฏูู API
- โ **ูุงุนุฏุฉ ุจูุงูุงุช ูุจูุฑุฉ**: 4 ูุซุงุฆูุ ~315 ูุณูุ ~434 ููุฑุฉ
- โ **ูุงุฌูุฉ ุชูุงุนููุฉ**: ุณููุฉ ุงูุงุณุชุฎุฏุงู

---

## ๐ก ูุตุงุฆุญ

1. **ููุงุณุชุฎุฏุงู ุงููููู:** ุงุณุชุฎุฏู OpenAI (ุฃุณุฑุน ูุฃุฏู)
2. **ููุชุฌุฑุจุฉ:** ุงุณุชุฎุฏู ุงููููุฐุฌ ุงููุญูู (ูุฌุงูู)
3. **ููุฌูุฏุฉ ุงููุตูู:** `gpt-4o` + `text-embedding-3-large`
4. **ูุชูููุฑ ุงูุชูููุฉ:** `gpt-4o-mini` + `text-embedding-3-small`

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงูุจุญุซู.

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

- **OpenAI**: ููููุงุฐุฌ ุนุงููุฉ ุงูุฌูุฏุฉ
- **Microsoft**: ููููุฐุฌ E5 ุงูููุชุงุฒ
- **ChromaDB**: ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุชุฌูุฉ

---

**ุงุณุชูุชุน ุจุงูุงุณุชุฎุฏุงู! ๐**
